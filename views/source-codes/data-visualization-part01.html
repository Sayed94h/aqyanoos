<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="title" content="Who is a good programmer? a good software developer, a good web developer">
    <meta name="description" content="open minded, creative, stress resistant, learn fast, flexible, positive mindset">

    <link rel="stylesheet" href="../../styleFiles/helper.css">
    <link rel="stylesheet" href="../../styleFiles/sharedCSS.css">
    <link rel="stylesheet" href="../../styleFiles/footer.css">
    <!-- for ads -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3193009251233672"
        crossorigin="anonymous"></script>
    <title>Data Visualization Part 1</title>
</head>

<body>

    <!-- nav bar -->
    <section class="nav">
        <nav class="main-nav">
            <a href="/">HOME</a>
            <a href="./source-codes.html" class="current">Source Codes</a>
        </nav>
    </section>

    <!-- main header -->
    <header class="page-header">
        <h1>Source Codes of my YouTube Tutorials</h1>
    </header>
    <main id="main" class="source-codes">
        <article>
            <nav>
                <a href="./data-visualization-part01.html" class="b-current">Data Visualization Part 1</a><br> <br>
                <a href="./text-editor-js.html">Text Editor JS</a>
            </nav>
            <section class="sc">
                <h3>A small guide</h3>
                <p>Paste the HTML code inside "body element", CSS code inside "style element" or external css file,
                    javascript code inside "script element" or external js file.
                    If you use external files, then you need to link your files to your html file by using link tag
                    for css and "script element" for javascript with the right "src" and "href" values.
                </p>
                <header class="sc-nav">
                    <div class="html c">HTML</div>
                    <div class="css">CSS</div>
                    <div class="js">JS</div>
                </header>
                <div class="sc-wrapper">
                    <textarea name="html" id="html-view" readonly></textarea>
                    <textarea name="css" id="css-view" readonly hidden></textarea>
                    <textarea name="js" id="js-view" readonly hidden></textarea>
                </div>
            </section>
        </article>
    </main>
    <!-- footer of the page -->
    <footer class="footer">
        <section class="container-footer">
            <section>
                <p>MAIN</p>
                <a href="/">HOME</a>
                <a href="../portfolio/projects.html">PROJECTS</a>
                <a href="./source-codes.html">Source Codes</a>
                <a href="../main/about.html">ABOUT</a>
            </section>
            <section>
                <p>
                    CONTACTS
                </p>
                <a href="https://be.linkedin.com/in/sayed-kazimi-0507/" target="_blank">LINKEDIN</a>
                <a href="https://github.com/Sayed94h" target="_blank">GITHUB</a>

            </section>
            <section>
                <p>MORE...</p>
                <a href="../portfolio/projects.html">WEB APPS</a>
                <a href="/#my-apps">ANDROID APPS</a>
                <!-- <a href="./views/main/eula_textEditor.html">EULA Text Editor</a> -->
            </section>

        </section>
        <p class="copyright">
            &copy; SAYED KHALIL KAZIMI | <span id="current-year">2022</span>
        </p>
    </footer>

    <script>
        const htmlCode = '\n<section id="svg-path">\n\t<section id="card"></section>\n</section>\n';
        const htmlView = document.getElementById("html-view");
        htmlView.innerHTML = htmlCode;

        const cssCode = `
section#svg-path {
    margin: 100px;
}

svg {
    border: 1px solid rgb(48, 46, 46);
}

path {
    fill: rgba(47, 165, 203, 0.1);
    stroke-width: 2.5;
    stroke: rgb(47, 164, 203);
}

g#graph-points {
    fill: rgba(33, 165, 175, 0);
    stroke-width: 1;
    stroke: none;
}

g#graph-lines {
    fill: rgba(53, 55, 58, 0.5);
    stroke: rgb(188, 198, 223);
}

g#graph-texts {
    fill: black;
    stroke-width: 1;
    stroke: none;
    text-anchor: middle;
    font-size: 20px;
    font-family: 'Times New Roman', Times, serif;

}

line {
    stroke: rgb(188, 197, 219);
}

#card {
    position: relative;
    width: 150px;
    height: 50px;
    padding: 3px;
    border-radius: 5px;
    font-size: 20px;
    font-weight: bold;
    background-color: rgba(255, 255, 255, 0.932);
    box-shadow: 1px 5px 5px gray;
    color: rgba(0, 0, 0, 0.767);
    display: none;
}`;

        const cssView = document.getElementById("css-view");
        cssView.innerHTML = cssCode;
        const jsCode = `

const svgPathParent = document.getElementById("svg-path");
const card = document.getElementById("card");
//test arrays: uncomment the array you would like to use and comment the rest otherwise you will get error
//const dataPath2 = [60, 20, 30, 50, 14, 22, 38, 54, 74, 98, 130, 84, 60, 96, 120, 156, 180, 98, 138, 100, 160, 90, 76, 30, 78, 118, 132, 88, 44];
//const dataPath2 = [180, 60, 90, 150, 42, 66, 114, 162, 222, 294, 390, 252, 180, 288, 360, 468, 540, 294, 414, 300, 480, 270, 228, 90, 234, 354, 396, 264, 132];
const dataPath2 = [120, 40, 60, 100, 28, 44, 76, 108, 148, 196, 260, 168, 120, 192, 240, 312, 360, 196, 276, 200, 320, 180, 152, 60, 156, 236, 264, 176, 88];


function dataVisualization(array, frequency, linecount) {
    const svgElment = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    const svgPath = document.createElementNS("http://www.w3.org/2000/svg", "path");
    const days = array.length;
    const maxVal = Math.max(...array);
    const widthSvg = days * frequency;
    const heightSvg = maxVal + 30;
    const graphLine = maxVal / (linecount - 1);

    svgElment.setAttributeNS(null, "width", widthSvg);
    svgElment.setAttributeNS(null, "height", heightSvg);

    // g tags for grouping other tags
    const gElCircle = document.createElementNS("http://www.w3.org/2000/svg", "g");
    gElCircle.id = "graph-points";

    const gElLine = document.createElementNS("http://www.w3.org/2000/svg", "g");
    gElLine.id = "graph-lines";

    const gElText = document.createElementNS("http://www.w3.org/2000/svg", "g");
    gElText.id = "graph-texts";

    // base line
    let pathString = "M" + widthSvg + " " + heightSvg + " L" + 0 + " " + widthSvg;

    for (let d = 0; d < days; d++) {
        const yValue = heightSvg - dataPath2[d], xValue = d * frequency;
        const newString = " L" + xValue + " " + yValue;
        pathString += newString;

        const circleEl = document.createElementNS("http://www.w3.org/2000/svg", "circle");

        circleEl.setAttributeNS(null, "cx", xValue);
        circleEl.setAttributeNS(null, "cy", yValue);
        circleEl.setAttributeNS(null, "r", "8");
        circleEl.addEventListener("mouseover", (e) => {`+
            "card.style = `top:${yValue}px; left:${xValue - 75}px; display: block;`;\n" +
            "// generate date\n" +
            'const date_ = new Date(Date.now() - ((days - d) * (24 * 60 * 60 * 1000))).toJSON().split("T")[0];\n' +
            'card.innerHTML = `Views: ${dataPath2[d]} <br>Date: ${date_}`;});\n' +
            'gElCircle.appendChild(circleEl);}\n' + `

    const ends = heightSvg - dataPath2[days - 1];
    pathString += " L" + widthSvg + " " + ends;
    pathString += " Z";
    svgPath.setAttributeNS(null, "d", pathString);

    // lines and texts
    for (let l = 0; l < linecount; l++) {
        const lineEl = document.createElementNS("http://www.w3.org/2000/svg", "line");
        const textEl = document.createElementNS("http://www.w3.org/2000/svg", "text");
        const yPosition = heightSvg - (l * graphLine);
        lineEl.setAttributeNS(null, "x1", "0");
        lineEl.setAttributeNS(null, "y1", yPosition);
        lineEl.setAttributeNS(null, "x2", widthSvg);
        lineEl.setAttributeNS(null, "y2", yPosition);
        gElLine.appendChild(lineEl);

        const txt = l * graphLine;
        textEl.setAttributeNS(null, "dx", "-20");
        textEl.setAttributeNS(null, "x", widthSvg);
        textEl.setAttributeNS(null, "y", yPosition);
        textEl.textContent = txt;

        gElText.appendChild(textEl);

    }

    svgElment.appendChild(gElCircle);
    svgElment.appendChild(gElLine);
    svgElment.appendChild(gElText);
    svgElment.appendChild(svgPath);

    // base parent or graph container
    svgPathParent.appendChild(svgElment);
}

dataVisualization(dataPath2, 50, 3);
`;

        const jsView = document.getElementById("js-view");
        jsView.innerHTML = jsCode;

        const btns = document.querySelector(".sc-nav");
        btns.addEventListener("click", (e) =>
        {
            const t = e.target;
            switch (t.textContent)
            {
                case "HTML":
                    tTps(htmlView, "HTML");
                    break;
                case "CSS":
                    tTps(cssView, "CSS");
                    break;
                case "JS":
                    tTps(jsView, "JS");
                    break;
            }
        });

        // hide all textareas
        function tTps (p, q)
        {
            document.querySelectorAll("textarea").forEach(e =>
            {
                e.setAttribute("hidden", "true");
            });

            p.removeAttribute("hidden");

            const cc = btns.children;
            for (let i = 0; i < cc.length; i++)
            {
                if (cc[i].textContent !== q)
                {
                    cc[i].classList.remove("c");
                } else
                {
                    cc[i].classList.add("c");
                }
            }
        }

    </script>
</body>

</html>